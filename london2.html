<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>London ‚Äî Neighborhood Planner</title>
  <style>
    :root{
      --bg:#0b0f17; --card:rgba(255,255,255,.04); --line:rgba(255,255,255,.12);
      --text:#e9eefc; --muted:#a9b4d0; --shadow:0 16px 40px rgba(0,0,0,.45);
      --accent:rgba(110,168,255,.28); --radius:18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(110,168,255,.14), transparent 55%),
        radial-gradient(1000px 800px at 90% 20%, rgba(255,140,84,.10), transparent 55%),
        var(--bg);
    }
    .wrap{max-width:1200px;margin:0 auto;padding:22px 16px 60px}
    h1{margin:0;font-size:28px}
    .sub{margin-top:6px;color:var(--muted);line-height:1.35;max-width:900px}
    .topbar{display:flex;gap:12px;align-items:flex-end;justify-content:space-between;flex-wrap:wrap;margin-bottom:14px}

    .panel{
      border:1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:14px;
    }
    .controls{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .search{
      flex:1; min-width:220px;
      display:flex; gap:10px; align-items:center;
      padding:10px 12px; border-radius:14px;
      border:1px solid var(--line);
      background: rgba(0,0,0,.22);
    }
    .search input{
      width:100%; border:0; outline:none; background:transparent;
      color:var(--text); font-size:14px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:9px 12px; border-radius:12px;
      border:1px solid var(--line); background: rgba(255,255,255,.07);
      color:var(--text); font-size:12px; cursor:pointer; white-space:nowrap;
    }
    .btn.primary{background: var(--accent); border-color: rgba(110,168,255,.35)}
    .btn:active{transform: translateY(1px)}
    .btn[aria-pressed="true"]{background: var(--accent); border-color: rgba(110,168,255,.35)}
    .meta{color:var(--muted);font-size:12px;margin-top:10px;display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap}

    .layout{
      margin-top:14px;
      display:grid;
      grid-template-columns: 280px 1fr;
      gap:12px;
    }
    @media (max-width: 900px){
      .layout{grid-template-columns: 1fr}
    }

    .list{
      border:1px solid var(--line);
      background: rgba(0,0,0,.20);
      border-radius: var(--radius);
      overflow:hidden;
    }
    .listHeader{
      padding:12px 12px;
      border-bottom:1px solid var(--line);
      background: rgba(255,255,255,.03);
      font-weight:650;
      display:flex; justify-content:space-between; align-items:center;
    }
    .listBody{max-height:70vh; overflow:auto}
    .neigh{
      padding:11px 12px;
      cursor:pointer;
      border-bottom:1px solid rgba(255,255,255,.06);
      display:flex; flex-direction:column; gap:4px;
    }
    .neigh:hover{background: rgba(255,255,255,.03)}
    .neigh.active{background: rgba(110,168,255,.14)}
    .neigh small{color:var(--muted)}
    .main{
      border:1px solid var(--line);
      background: rgba(0,0,0,.20);
      border-radius: var(--radius);
      padding:14px;
    }
    .mainTop{
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px; flex-wrap:wrap;
      border-bottom:1px solid rgba(255,255,255,.08);
      padding-bottom:12px;
      margin-bottom:12px;
    }
    .mainTop h2{margin:0;font-size:18px}
    .badges{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .badge{
      font-size:11px;color:var(--muted);
      padding:6px 8px;border:1px solid var(--line);border-radius:999px;
      background: rgba(255,255,255,.03);
    }
    .items{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap:12px;
    }
    .card{
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding:12px;
      display:flex; flex-direction:column; gap:8px;
      min-height: 170px;
    }
    .card h3{margin:0;font-size:14px;line-height:1.15}
    .card p{margin:0;color:var(--muted);font-size:12.5px;line-height:1.35}
    .cardRow{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-top:auto}
    a{color:inherit}
    .pill{
      font-size:11px;padding:6px 8px;border-radius:999px;border:1px solid var(--line);
      color:var(--muted);background: rgba(255,255,255,.03);
    }
    .pill.free{border-color: rgba(110,168,255,.30); background: rgba(110,168,255,.10); color:var(--text)}
    .pill.paid{border-color: rgba(255,140,84,.30); background: rgba(255,140,84,.08); color:var(--text)}

    /* Modal */
    .modal.hidden{display:none}
    .modal{
      position:fixed; inset:0; z-index:9999;
      background: rgba(0,0,0,.60);
      display:flex; align-items:center; justify-content:center;
      padding:18px;
    }
    .modalCard{
      width:min(980px, 100%);
      max-height: 82vh;
      overflow:auto;
      border-radius: 18px;
      background: rgba(10,14,22,.95);
      border: 1px solid var(--line);
      padding: 14px;
      box-shadow: var(--shadow);
    }
    .modalHeader{
      position: sticky; top: 0;
      display:flex; justify-content:space-between; align-items:center; gap:10px;
      background: rgba(10,14,22,.98);
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      z-index:1;
    }
    .modalHeader h3{margin:0;font-size:16px}
    .ideas{
      padding-top:12px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap:10px;
    }
    .idea{
      border:1px solid var(--line);
      background: rgba(255,255,255,.03);
      border-radius:14px;
      padding:12px;
      display:flex; flex-direction:column; gap:8px;
      min-height: 92px;
    }
    .idea strong{font-size:13px}
    .idea .q{font-size:11px;color:var(--muted);line-height:1.25}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="topbar">
      <div>
        <h1>London ‚Äî Neighborhood Planner</h1>
        <div class="sub">
          Pick a neighborhood (Covent Garden, Soho, Shoreditch‚Ä¶), then see what‚Äôs near it.
          Want tons more? Click <b>‚Äú100 more near here‚Äù</b> to generate fresh ideas in Maps.
        </div>
      </div>
      <button class="btn primary" id="resetBtn">Reset</button>
    </div>

    <div class="panel">
      <div class="controls">
        <div class="search">
          <span style="opacity:.8">üîé</span>
          <input id="q" placeholder="Search within this neighborhood: brunch, museum, views, market‚Ä¶" />
        </div>
        <button class="btn" id="freeBtn" aria-pressed="false">Free only</button>
        <button class="btn" id="quickBtn" aria-pressed="false">Quick only</button>
        <button class="btn" id="ideasBtn">100 more near here</button>
      </div>
      <div class="meta">
        <div id="metaLeft"></div>
        <div id="metaRight"></div>
      </div>
    </div>

    <div class="layout">
      <div class="list">
        <div class="listHeader">
          <span>Neighborhoods</span>
          <span id="neighCount" style="color:var(--muted);font-size:12px"></span>
        </div>
        <div class="listBody" id="neighList"></div>
      </div>

      <div class="main">
        <div class="mainTop">
          <div>
            <h2 id="mainTitle">Select a neighborhood</h2>
            <div class="badges" id="mainBadges"></div>
          </div>
          <div class="controls" style="gap:8px">
            <a class="btn" id="openAreaMaps" href="#" target="_blank" rel="noopener">Open neighborhood in Maps</a>
          </div>
        </div>

        <div class="items" id="items"></div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="ideasModal" class="modal hidden">
    <div class="modalCard">
      <div class="modalHeader">
        <h3 id="ideasTitle">100 more ideas</h3>
        <button class="btn" id="ideasClose">Close</button>
      </div>
      <div class="ideas" id="ideasGrid"></div>
    </div>
  </div>

<script>
/*** EDIT THIS: add more items. The UI groups by neighborhood automatically. ***/
const ITEMS = [
  // Covent Garden
  { id:"neals_yard", name:"Neal‚Äôs Yard", neighborhood:"Covent Garden", kind:"Architecture & Streets", blurb:"Hidden colorful courtyard‚Äîquick serotonin stop.", free:true, time:"Quick", mapQuery:"Neal's Yard London" },
  { id:"dishoom_cg", name:"Dishoom (Covent Garden)", neighborhood:"Covent Garden", kind:"Food & Drink", blurb:"Bombay caf√© vibe‚Äîgreat brunch/dinner (book/wait).", free:false, time:"1‚Äì2h", mapQuery:"Dishoom Covent Garden" },
  { id:"soane", name:"Sir John Soane‚Äôs Museum", neighborhood:"Covent Garden", kind:"Museums & Collections", blurb:"The most magical small museum‚Äîrooms packed with treasures.", free:true, time:"1‚Äì2h", mapQuery:"Sir John Soane's Museum" },
  { id:"seven_dials", name:"Seven Dials", neighborhood:"Covent Garden", kind:"Walks", blurb:"Cute streets + shopping + people-watching loop.", free:true, time:"Quick", mapQuery:"Seven Dials London" },

  // Soho
  { id:"soho_walk", name:"Soho wander", neighborhood:"Soho", kind:"Walks", blurb:"Neon streets, tiny lanes, best late-night energy.", free:true, time:"1‚Äì2h", mapQuery:"Soho London" },

  // Shoreditch
  { id:"shoreditch_art", name:"Shoreditch street art loop", neighborhood:"Shoreditch", kind:"Street Art & Hidden Finds", blurb:"Graffiti + coffee + vintage shops.", free:true, time:"Half-day", mapQuery:"Shoreditch street art" },

  // South Bank
  { id:"waterloo_bridge", name:"Waterloo Bridge (sunset view)", neighborhood:"South Bank", kind:"Views & Landmarks", blurb:"Bridge views that feel like a movie‚Äîbest at golden hour.", free:true, time:"Quick", mapQuery:"Waterloo Bridge" },

  // City of London
  { id:"st_dunstan", name:"St Dunstan-in-the-East (Ruins Garden)", neighborhood:"City of London", kind:"Parks & Gardens", blurb:"Bombed church turned secret garden‚Äîquiet + cinematic.", free:true, time:"Quick", mapQuery:"St Dunstan in the East" },
  { id:"leadenhall", name:"Leadenhall Market", neighborhood:"City of London", kind:"Architecture & Streets", blurb:"Victorian covered market‚Äîone of London‚Äôs prettiest interiors.", free:true, time:"Quick", mapQuery:"Leadenhall Market" },

  // Camden
  { id:"camden_market", name:"Camden Market", neighborhood:"Camden", kind:"Markets", blurb:"Huge street food selection‚Äîgo with friends to sample more.", free:true, time:"Half-day", mapQuery:"Camden Market" },

  // Borough
  { id:"borough_market", name:"Borough Market", neighborhood:"Borough", kind:"Markets", blurb:"Legendary food market‚Äîgo hungry.", free:true, time:"1‚Äì2h", mapQuery:"Borough Market" },

  // South Kensington
  { id:"vanda", name:"V&A (Victoria and Albert Museum)", neighborhood:"South Kensington", kind:"Museums & Collections", blurb:"Design + fashion + d√©cor‚Äîone of London‚Äôs best.", free:true, time:"Half-day", mapQuery:"Victoria and Albert Museum" },

  // Bankside
  { id:"tate_modern", name:"Tate Modern", neighborhood:"Bankside", kind:"Museums & Collections", blurb:"Modern art + great free museum; don‚Äôt miss the viewing level.", free:true, time:"Half-day", mapQuery:"Tate Modern" },

  // Primrose Hill
  { id:"primrose", name:"Primrose Hill", neighborhood:"Primrose Hill", kind:"Views & Landmarks", blurb:"Short climb = big skyline payoff. Sunset is elite.", free:true, time:"1‚Äì2h", mapQuery:"Primrose Hill" },

  // Greenwich
  { id:"greenwich_loop", name:"Greenwich day loop", neighborhood:"Greenwich", kind:"Walks", blurb:"Park ‚Üí market ‚Üí river. Great full-day neighborhood.", free:true, time:"Half-day", mapQuery:"Greenwich London" },
];

/*** 100 idea templates (Maps searches, no API keys) ***/
const IDEA_TEMPLATES = [
  "best coffee near {q}","best bakery near {q}","best brunch near {q}","best pubs near {q}","best cocktails near {q}",
  "best wine bar near {q}","best rooftop bar near {q}","best cheap eats near {q}","best street food near {q}",
  "best fish and chips near {q}","best Sunday roast near {q}","best dessert near {q}","best afternoon tea near {q}",
  "late night food near {q}","food market near {q}","vintage market near {q}","bookstore near {q}","record store near {q}",
  "independent shops near {q}","best photo spots near {q}","hidden gems near {q}","secret alleys near {q}",
  "mews streets near {q}","street art near {q}","historic pubs near {q}","historic churches near {q}",
  "historic buildings near {q}","free museums near {q}","small museums near {q}","art galleries near {q}",
  "live music near {q}","jazz bar near {q}","theatre shows near {q}","comedy club near {q}",
  "cinema near {q}","things to do tonight near {q}","free things to do near {q}","walks near {q}",
  "best viewpoints near {q}","sunset spots near {q}","riverside walk near {q}","canal walk near {q}",
  "parks near {q}","gardens near {q}","picnic spots near {q}","rainy day activities near {q}",
  "best Instagram spots near {q}","architecture walk near {q}","walking tour near {q}","self guided walking tour near {q}",
  "best museums near {q}","best markets near {q}","best shopping streets near {q}","best bakeries near {q}",
  "best ice cream near {q}","best tea shops near {q}","best skyline view near {q}","best thrift shops near {q}",
  "best vintage shops near {q}","best neighborhoods to walk near {q}","best places to people watch near {q}",
  "hidden courtyards near {q}","cute streets near {q}","free exhibitions near {q}","events this weekend near {q}",
  "pop up markets near {q}","seasonal events near {q}","best day trip ideas from {q}","best souvenirs near {q}",
  "best cheap date ideas near {q}","best nighttime photos near {q}","best scenic streets near {q}",
  "best quick bites near {q}","best shopping arcades near {q}","best riverside pubs near {q}",
  "best local favorites near {q}","best underrated spots near {q}","best things to do for 2 hours near {q}",
  "best free viewpoints near {q}","best parks for a picnic near {q}","best walks with views near {q}",
  "best museums open late near {q}","best small galleries near {q}","best food halls near {q}",
  "best late-night bars near {q}","best cozy cafes near {q}","best bookstores + cafes near {q}",
  "best desserts + cafes near {q}","best people-watching cafes near {q}","best photo walk route near {q}",
  "best historic streets near {q}","best secret spots near {q}","best markets for snacks near {q}"
].slice(0,100);

function esc(s){
  return String(s).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
    .replaceAll('"',"&quot;").replaceAll("'","&#039;");
}
function mapsSearchUrl(query){
  return `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;
}
function areaMapsUrl(neighborhood){
  return mapsSearchUrl(`${neighborhood} London`);
}

const state = { neighborhood:null, q:"", freeOnly:false, quickOnly:false };

const neighList = document.getElementById("neighList");
const neighCount = document.getElementById("neighCount");
const itemsEl = document.getElementById("items");
const mainTitle = document.getElementById("mainTitle");
const mainBadges = document.getElementById("mainBadges");
const openAreaMaps = document.getElementById("openAreaMaps");
const metaLeft = document.getElementById("metaLeft");
const metaRight = document.getElementById("metaRight");

const qEl = document.getElementById("q");
const freeBtn = document.getElementById("freeBtn");
const quickBtn = document.getElementById("quickBtn");
const resetBtn = document.getElementById("resetBtn");
const ideasBtn = document.getElementById("ideasBtn");

// modal
const ideasModal = document.getElementById("ideasModal");
const ideasTitle = document.getElementById("ideasTitle");
const ideasGrid = document.getElementById("ideasGrid");
const ideasClose = document.getElementById("ideasClose");

ideasClose.addEventListener("click", ()=>ideasModal.classList.add("hidden"));
ideasModal.addEventListener("click", (e)=>{ if(e.target===ideasModal) ideasModal.classList.add("hidden"); });

function neighborhoods(){
  const list = Array.from(new Set(ITEMS.map(i=>i.neighborhood).filter(Boolean))).sort((a,b)=>a.localeCompare(b));
  return list;
}
function countByNeighborhood(){
  const m = new Map();
  for(const it of ITEMS){
    const n = it.neighborhood || "London";
    m.set(n, (m.get(n)||0)+1);
  }
  return m;
}
function renderNeighborhoods(){
  const list = neighborhoods();
  const counts = countByNeighborhood();
  neighCount.textContent = `${list.length}`;
  neighList.innerHTML = list.map(n => {
    const active = (state.neighborhood===n) ? "active" : "";
    const c = counts.get(n)||0;
    return `<div class="neigh ${active}" data-n="${esc(n)}">
      <div style="font-weight:650">${esc(n)}</div>
      <small>${c} saved spots</small>
    </div>`;
  }).join("");

  neighList.querySelectorAll(".neigh").forEach(el=>{
    el.addEventListener("click", ()=>{
      state.neighborhood = el.getAttribute("data-n");
      renderAll();
    });
  });

  // default select first neighborhood if none
  if(!state.neighborhood && list.length){
    state.neighborhood = list[0];
  }
}

function matchesFilters(it){
  const q = state.q.trim().toLowerCase();
  if(q){
    const hay = `${it.name} ${it.kind||""} ${it.blurb||""}`.toLowerCase();
    if(!hay.includes(q)) return false;
  }
  if(state.freeOnly && !it.free) return false;
  if(state.quickOnly && String(it.time||"").toLowerCase().includes("quick")===false) return false;
  return true;
}

function renderItems(){
  const n = state.neighborhood;
  if(!n){
    mainTitle.textContent = "Select a neighborhood";
    itemsEl.innerHTML = "";
    mainBadges.innerHTML = "";
    openAreaMaps.href = "#";
    metaLeft.textContent = "";
    metaRight.textContent = "";
    return;
  }

  const allInArea = ITEMS.filter(i => i.neighborhood===n);
  const filtered = allInArea.filter(matchesFilters);

  mainTitle.textContent = n;
  openAreaMaps.href = areaMapsUrl(n);

  // badges summary
  const kinds = Array.from(new Set(allInArea.map(i=>i.kind).filter(Boolean))).slice(0,8);
  mainBadges.innerHTML = `
    <span class="badge">${allInArea.length} saved spots</span>
    <span class="badge">${filtered.length} showing</span>
    ${kinds.map(k=>`<span class="badge">${esc(k)}</span>`).join("")}
  `;

  metaLeft.textContent = `Neighborhood: ${n}`;
  metaRight.textContent = `Showing ${filtered.length} of ${allInArea.length} saved spots`;

  itemsEl.innerHTML = filtered.map(it=>{
    const mapQ = it.mapQuery || `${it.name} ${n} London`;
    const maps = mapsSearchUrl(mapQ);
    const learn = `https://www.google.com/search?q=${encodeURIComponent(`${it.name} ${n} London`)}`;
    const pillClass = it.free ? "free" : "paid";
    return `
      <article class="card">
        <div style="display:flex;justify-content:space-between;gap:10px;align-items:flex-start">
          <h3>${esc(it.name)}</h3>
          <span class="pill ${pillClass}">${it.free ? "Free" : "Paid"}</span>
        </div>
        <div class="pill" style="width:max-content">${esc(it.kind||"Thing to do")}${it.time ? ` ‚Ä¢ ${esc(it.time)}` : ""}</div>
        <p>${esc(it.blurb||"")}</p>
        <div class="cardRow">
          <a class="btn" href="${maps}" target="_blank" rel="noopener">Open in Maps</a>
          <a class="btn" href="${learn}" target="_blank" rel="noopener">Learn more</a>
        </div>
      </article>
    `;
  }).join("");
}

function openIdeas(){
  const n = state.neighborhood;
  if(!n) return;
  ideasTitle.textContent = `100 more things near ${n}`;
  const base = `${n} London`;
  const ideas = IDEA_TEMPLATES.map(t=>{
    const q = t.replace("{q}", base);
    const label = t.replace(" near {q}","").replace("{q}","").trim();
    return {label, q, url: mapsSearchUrl(q)};
  });
  ideasGrid.innerHTML = ideas.map(i=>`
    <div class="idea">
      <strong>${esc(i.label)}</strong>
      <div class="q">${esc(i.q)}</div>
      <a class="btn primary" href="${i.url}" target="_blank" rel="noopener">Open in Maps</a>
    </div>
  `).join("");
  ideasModal.classList.remove("hidden");
}

function renderAll(){
  renderNeighborhoods();
  // update active highlight
  neighList.querySelectorAll(".neigh").forEach(el=>{
    el.classList.toggle("active", el.getAttribute("data-n")===state.neighborhood);
  });
  renderItems();
}

qEl.addEventListener("input", e=>{ state.q=e.target.value; renderItems(); });

freeBtn.addEventListener("click", ()=>{
  state.freeOnly=!state.freeOnly;
  freeBtn.setAttribute("aria-pressed", String(state.freeOnly));
  renderItems();
});
quickBtn.addEventListener("click", ()=>{
  state.quickOnly=!state.quickOnly;
  quickBtn.setAttribute("aria-pressed", String(state.quickOnly));
  renderItems();
});

ideasBtn.addEventListener("click", openIdeas);

resetBtn.addEventListener("click", ()=>{
  state.q=""; state.freeOnly=false; state.quickOnly=false;
  qEl.value="";
  freeBtn.setAttribute("aria-pressed","false");
  quickBtn.setAttribute("aria-pressed","false");
  renderAll();
});

// start
renderAll();
</script>
</body>
</html>

